(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{j4:()=>L,YJ:()=>g,Mw:()=>E});var t,o=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].reverse(),n=document.querySelector(".elements"),r=document.querySelector(".popup_zoom-picture"),c=document.querySelector(".popup__zoom-pic"),u=document.querySelector(".popup__zoom-title"),i=document.querySelector(".popup_form_edit-profile"),s=document.querySelector(".popup_form_new-place"),a=document.querySelector(".popup_profile-edit"),l=document.querySelector(".profile__name"),d=document.querySelector(".profile__description"),p=document.querySelector("#name"),m=document.querySelector("#description"),_=document.querySelector(".popup_place-add"),v=document.querySelector(".popup_form_new-place"),y=document.querySelector(".page"),f=Array.from(document.querySelectorAll(".popup")),S=document.querySelector(".popup_edit_avatar"),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;t?(e.classList.remove(o.inactiveButtonClass),e.disabled=!1):(e.classList.add(o.inactiveButtonClass),e.disabled="disabled")};function k(e){var t=document.querySelector("#new-mesto").content.querySelector(".mesto").cloneNode(!0);t.querySelector(".mesto__title").textContent=e.name,t.querySelector(".mesto__image").src=e.link,t.querySelector(".mesto__image").alt=e.name,n.prepend(t),t.querySelector(".mesto__image").addEventListener("click",(function(){E(r),c.src=e.link,u.textContent=e.name,c.alt=e.name,y.addEventListener("keydown",g)})),r.querySelector(".popup__button_status_zoom-close").addEventListener("click",(function(){L(r),y.removeEventListener("keydown",g)})),t.querySelector(".mesto__delete").addEventListener("click",(function(){t.classList.add("mesto_hidden")})),t.querySelector(".mesto__button").addEventListener("click",(function(e){e.target.classList.toggle("mesto__button_active")}))}function E(e){e.classList.add("popup_opened")}function L(e){e.classList.remove("popup_opened")}function g(e){var t=document.querySelector(".popup_opened");"Escape"===e.key&&t&&L(t)}t={formSelector:".popup__container",inputSelector:".popup__item",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_state_inactive",inputErrorClass:"popup__item_state_invalid",customMessages:{urlMismatch:"Введите адрес сайта",missedInput:"Вы пропустили это поле"}},Array.from(document.querySelectorAll(t.formSelector)).forEach((function(e){!function(e,t){var o=Array.from(e.querySelectorAll(t.inputSelector)),n=e.querySelector(t.submitButtonSelector);o.forEach((function(o){o.addEventListener("input",(function(){!function(e,t,o){e.setCustomValidity("");var n=e.validity.valid,r=t.querySelector("#".concat(e.id,"-error"));!function(e,t){"url"!==e.type&&!e.validity.valueMissing||e.validity.valid||(e.validity.valueMissing?e.setCustomValidity(t.customMessages.missedInput):e.setCustomValidity(t.customMessages.urlMismatch))}(e,o),n?function(e,t,o){t.classList.remove(o.inputErrorClass),e.textContent=t.validationMessage}(r,e,o):function(e,t,o){t.classList.add(o.inputErrorClass),e.textContent=t.validationMessage}(r,e,o)}(o,e,t),q(n,e.checkValidity(),t)}))})),e.addEventListener("submit",(function(e){e.preventDefault(),q(n,!1,t)}))}(e,t)})),o.forEach((function(e){k(e)})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){var e;E(i),e=i,Array.from(e.querySelectorAll(".popup__item-error")).forEach((function(e){e.textContent=""})),p.value=l.textContent,m.value=d.textContent,y.addEventListener("keydown",g)})),i.querySelector(".popup__button_status_close").addEventListener("click",(function(){L(i),y.removeEventListener("keydown",g)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){E(s),y.addEventListener("keydown",g)})),s.querySelector(".popup__button_status_close").addEventListener("click",(function(){L(s),y.removeEventListener("keydown",g)})),a.addEventListener("submit",(function(e){e.preventDefault(),l.textContent=p.value,d.textContent=m.value,L(i),y.removeEventListener("keydown",g)})),_.addEventListener("submit",(function(e){var t,o;e.preventDefault(),t=document.querySelector(".popup__item_el_place-name"),k({link:(o=document.querySelector(".popup__item_el_place-url")).value,name:t.value}),o.value="",t.value="",L(v),y.removeEventListener("keydown",g)})),f.forEach((function(e){e.addEventListener("click",(function(e){document.querySelector(".popup_opened")&&e.target.classList.contains("popup")&&L(e.target.closest(".popup_opened"))}))})),document.querySelector(".profile_avatar-button").addEventListener("click",(function(){E(S),y.addEventListener("keydown",g)})),S.querySelector(".popup__button_status_close").addEventListener("click",(function(){L(S),y.removeEventListener("keydown",g)}))})();